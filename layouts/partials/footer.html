    </main>
</div>
<footer>
    {{ with .Site.Copyright }}<p>{{ . }}.
    Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>, theme
    <a href="https://github.com/math2001/fasty">Fasty</a> by <a href="https://github.com/math2001">@math2001</a>.</p>{{ end }}
</footer>

<script type="text/javascript">
function loadCSS(stylesheets) {
    let media, link
    for (let stylesheet of stylesheets) {
        console.log('load', stylesheet.href)
        media = stylesheet.media ? ' media="' + stylesheet.media + '"' : ''
        link = '<link rel="stylesheet" type="text/css" href="'
                + {{ "/" | relURL }} + "css/" + stylesheet.href + '"' + media + '>'
        document.head.innerHTML += link

    }
}
function loadJs(scripts) {
    for (let key in scripts) {
        tag = document.createElement('script')
        tag.onload = {{ "/" | relURL }} + 'js/' + scripts[key]
        tag.src = key
        document.body.appendChild(tag)
    }
}

function activeSearch() {
    fetch({{ "/" | relURL }} + 'index.json')
        .then(response => response.json())
        .then(data => {
            console.log(data)
        }).catch(error => {
            console.error(error)
        })
}

loadCSS([{ href: 'phone.css', media: 'screen and (max-width: 600px)' }])
</script>

{{- if eq .Kind "page" -}}
{{- if .Site.Params.Dev -}}
<script type="text/javascript" src="{{ "/" | relURL }}js/highlight.pack.js"></script>
<script type="text/javascript" src="{{ "/" | relURL }}js/lunr.min.js"></script>
<script type="text/javascript">hljs.initHighlightingOnLoad()
activeSearch()</script>
{{- else -}}
<script type="text/javascript">
loadJs({
    'highlight.pack.js': hljs.initHighlightingOnLoad()
    'lunr.min.js': activeSearch()
})
</script>
{{- end -}}
{{- end -}}

</body>
</html>
