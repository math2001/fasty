    </main>
</div>
<footer>
    {{ with .Site.Copyright }}<p>{{ . }}.
    Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>, theme
    <a href="https://github.com/math2001/fasty">Fasty</a> by <a href="https://github.com/math2001">@math2001</a>.</p>{{ end }}
</footer>

<script type="text/javascript">
function loadCSS(stylesheets) {
    let media, link
    for (let stylesheet of stylesheets) {
        media = stylesheet.media ? ' media="' + stylesheet.media + '"' : ''
        link = '<link rel="stylesheet" type="text/css" href="'
        if (stylesheet.href.startsWith('http')) link += stylesheet.href
        else link += {{ "/" | relURL }} + "css/" + stylesheet.href
        link += '"' + media + '>'
        document.head.innerHTML += link

    }
}

loadCSS([
    { href: 'phone.css', media: 'screen and (max-width: 600px)' },
    { href: 'https://fonts.googleapis.com/css?family=Roboto+Slab' },
])
</script>

{{- if eq .Kind "page" -}}
<script src="{{ "/" | relURL }}js/highlight.pack.js" async onload="hljs.initHighlightingOnLoad()"></script>
{{- end -}}
{{- if not .IsHome -}}
<script>
;(function () {
    const show = document.querySelector('#show-header')
    const hide = document.querySelector('#hide-header')
    show.addEventListener('click', () => { document.body.classList.toggle('header-active') })
    hide.addEventListener('click', () => { document.body.classList.toggle('header-active') })
})()
</script>
{{- end -}}

{{- if .Params.repository -}}
{{- if eq .Section "project" -}}
<script>
    fetch('https://api.github.com/repos/{{ .Site.Params.github_username }}/{{ .Params.repository }}')
    .then(response => response.json())
    .then(repository => {
        document.querySelector('#repository-stargazers-count').textContent = repository.stargazers_count
    })
</script>
{{- end -}}
{{- end -}}


{{- if and ( isset .Site.Params "githubcommentsrepo" ) ( eq .Kind "page" ) }}
{{- with .Params.CommentsIssueId }}
<script onload="loadGithubCommentsFrom('{{ $.Site.Params.githubcommentsrepo }}', {{ . }}, '{{ "/js/showdown.js" | relURL }}')" src="{{ "/js/github-comments.js" | relURL }}" async></script>
{{- else -}}
<script>
    document.querySelector('#page-comments').innerHTML = 
    `<p class="page-comment-blocked">
        <img src="{{ "/img/padlock.svg" | relURL }}" alt="padlock" class="page-comment-padlock">
        Comments are blocked for this {{ .Section | safeJS }}
    </p>`
</script>
{{ end -}}
{{ end -}}

{{ template "_internal/google_analytics.html" . }}

</body>
</html>
