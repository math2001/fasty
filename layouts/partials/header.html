<html lang="{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}">
<head>
    {{ .Hugo.Generator }}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {{ with .Description }}
    <meta name="description" content="{{ . }}">
    {{ end }}
    {{ with .Keywords }}
    <meta name="keywords" content="{{ . }}">
    {{ end }}
    <link rel=icon type=image/png href='{{ "/" | relURL }}{{ with .Site.Params.favicon }}{{ . }}
    {{- else -}}{{ .Site.Params.avatar.path }}{{ end }}'>
    <title>{{ .Title }}{{ if not .IsHome }} - {{ .Site.Title }}{{ end }}</title>

    {{ .Scratch.Add "csstoload" "regular" }}
    {{ if .IsHome }}{{ .Scratch.Set "csstoload" "home" }}{{ end }}
    {{ $colorscheme := "monokai-sublime" }}
    {{ $colorscheme := "tomorrow-night" }}
    {{ if .Site.Params.Dev }}
    <link rel="stylesheet" href="{{ (print "/css/colorschemes/" $colorscheme ".css") | relURL }}">
    <link rel="stylesheet" href="{{ "/css/common.css" | relURL }}">
    <link rel="stylesheet" href="{{ (print "/css/" (.Scratch.Get "csstoload") ".css") | relURL }}">
    {{ else }}
    <style type="text/css">{{ readFile (relURL "/css/common.css") | safeCSS }}</style>
    <style type="text/css">{{ readFile (relURL (print  "/css/" (.Scratch.Get "csstoload") ".css" )) | safeCSS }}</style>
    <style type="text/css">{{ readFile (relURL (print  "/css/colorschemes/" $colorscheme ".css" )) | safeCSS }}</style>
    {{ end }}

</head>
<body>

    <div class="wrapper">
    {{ if not .IsHome }}
    <header>
        <h2 class="header-brand"><a href="{{ "/" | relURL }}">{{ .Site.Title }}</a></h2>
        {{ partial "nav" .Site.Menus.main }}
        {{ if not .Site.Params.disablesearch }}
            <div class="header-search">
                <input type="search" placeholder="Search...">
            </div>
        {{ end }}
    </header>
    {{ end }}
    <main>

