<html lang="{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}">
<head>
    {{ .Hugo.Generator }}
    <meta charset="utf-8">
    {{ with .Description }}
    <meta name="description" content="{{ . }}">
    {{ end }}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {{ with .Keywords }}
    <meta name="keywords" content="{{ . }}">
    {{ end }}
    <title>{{ .Title }}{{ if not .IsHome }} - {{ .Site.Title }}{{ end }}</title>

    {{ if .Site.Params.Dev }}
        <link rel="stylesheet" href="{{ "/css/common.css" | relURL }}">
        {{ if .IsHome }}
        <link rel="stylesheet" href="{{ "/css/home.css" | relURL }}">
        {{ else }}
        <link rel="stylesheet" href="{{ "/css/regular.css" | relURL }}">
        {{ end }}
    {{ else }}
        <style type="text/css">
            {{ (readFile (print "themes/" .Site.Params.themefoldername "/static/css/common.css")) | safeCSS }}
        </style>
        <style type="text/css">
        {{ if .IsHome }}
        {{ (readFile (print "themes/" .Site.Params.themefoldername "/static/css/home.css")) | safeCSS }}
        {{ else }}
        {{ (readFile (print "themes/" .Site.Params.themefoldername "/static/css/regular.css")) | safeCSS }}
        {{ end }}
        </style>
    {{ end }}

</head>
<body>
    <div class="wrapper">
    {{ if not .IsHome }}
    <header>
        <h2 class="header-brand"><a href="{{ "/" | relURL }}">{{ .Site.Title }}</a></h2>
        {{ partial "nav" .Site.Menus.main }}
        {{ with not .Site.Params.SearchDisabled }}
            <div class="header-search">
                <input type="search" placeholder="Search...">
            </div>
        {{ end }}
    </header>
    {{ end }}
    <main>

